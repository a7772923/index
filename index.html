<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>注音符號學習卡</title>
    <style>
        /* ==================================================== */
        /* 1. 全域樣式與版面設計 (保留原有的漂亮設計) */
        /* ==================================================== */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            width: 100%;
            max-width: 800px;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border-radius: 12px;
        }

        .view {
            display: none;
            padding: 20px 0;
        }

        .view.active {
            display: block;
        }

        h1, h2 {
            text-align: center;
            color: #333;
        }

        .btn-group {
            text-align: center;
            margin-top: 30px;
        }

        .btn {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            margin: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
            transition: background-color 0.3s;
        }

        .btn:hover {
            background-color: #0056b3;
        }

        .card-container {
            display: flex;
            justify-content: center; 
            gap: 40px; 
            margin-top: 40px;
            min-height: 200px;
        }
        
        /* ==================================================== */
        /* 2. 卡片樣式 (修改：移除3D翻轉，保留視覺風格) */
        /* ==================================================== */
        .card {
            width: 180px;
            height: 180px;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 5em; /* 字體放大 */
            font-weight: bold;
            color: white;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            user-select: none; /* 防止連點選取到文字 */
            transition: transform 0.1s ease; /* 點擊時的輕微縮放感 */
        }

        .card:active {
            transform: scale(0.95); /* 按下去縮小一點點 */
        }

        /* 第一關卡片顏色 (沿用原本背面漂亮的綠色) */
        .level1-card {
            background-color: #4CAF50; 
        }

        /* 第二關卡片顏色 (沿用原本漂亮的藍色與粉色) */
        .level2-card-left {
             background-color: #2196F3; 
        }
        .level2-card-right {
             background-color: #E91E63; 
        }

        /* 閃爍動畫 (從舊版移植過來) */
        .card.new-symbol {
            animation: symbol-flash 0.3s ease-in-out;
        }
        
        @keyframes symbol-flash {
            0% { transform: scale(1.0); opacity: 0.7; }
            50% { transform: scale(1.05); opacity: 1.0; }
            100% { transform: scale(1.0); }
        }

        /* RWD 手機適配 */
        @media (max-width: 600px) {
            .card {
                width: 140px;
                height: 140px;
                font-size: 4em;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <div id="home-view" class="view active">
            <h1>注音符號隨機生成器</h1>
            <div class="btn-group">
                <button class="btn" onclick="goToLevel(1)">進入 第一關 (一次一張)</button>
                <button class="btn" onclick="goToLevel(2)">進入 第二關 (一次兩張)</button>
            </div>
        </div>

        <div id="level1-view" class="view">
            <h2>第一關：點擊卡片，直接切換注音</h2>
            <div class="card-container" id="level1-cards">
                </div>
            <div class="btn-group">
                <button class="btn" onclick="showView('home-view')">返回首頁</button>
            </div>
        </div>

        <div id="level2-view" class="view">
            <h2>第二關：點擊任一卡片，同時切換兩張</h2>
            <div class="card-container" id="level2-cards">
                </div>
            <div class="btn-group">
                <button class="btn" onclick="showView('home-view')">返回首頁</button>
            </div>
        </div>
    </div>

    <script>
        // ====================================================
        // 3. JavaScript 邏輯 (融合版：舊玩法 + 新架構)
        // ====================================================
        
        const bopomofoSymbols = [
            'ㄅ', 'ㄆ', 'ㄇ', 'ㄈ', 'ㄉ', 'ㄊ', 'ㄋ', 'ㄌ', 'ㄍ', 'ㄎ', 'ㄏ', 
            'ㄐ', 'ㄑ', 'ㄒ', 'ㄓ', 'ㄔ', 'ㄕ', 'ㄖ', 'ㄗ', 'ㄘ', 'ㄙ', 
            '一', 'ㄨ', 'ㄩ' 
        ];

        // 隨機取得一個符號
        function getRandomBopomofo() {
            return bopomofoSymbols[Math.floor(Math.random() * bopomofoSymbols.length)];
        }

        // 切換視圖
        function showView(viewId) {
            document.querySelectorAll('.view').forEach(view => {
                view.classList.remove('active');
            });
            document.getElementById(viewId).classList.add('active');
        }

        // 進入關卡
        function goToLevel(level) {
            showView('level' + level + '-view');
            generateCards(level);
        }

        // 更新卡片內容與動畫 (舊版邏輯)
        function updateCardVisual(cardElement, newSymbol) {
            // 1. 移除動畫 class
            cardElement.classList.remove('new-symbol');
            
            // 2. 強制瀏覽器重繪 (Magic trick to restart animation)
            void cardElement.offsetWidth;
            
            // 3. 更新文字
            cardElement.innerText = newSymbol;
            
            // 4. 加回動畫
            cardElement.classList.add('new-symbol');
        }

        // 建立簡單版卡片 (無 3D 結構)
        // type 參數用來決定顏色樣式: 'level1', 'level2-left', 'level2-right'
        function createSimpleCard(type) {
            const card = document.createElement('div');
            card.classList.add('card');
            
            // 根據類型加上對應的顏色 class
            if (type === 'level1') card.classList.add('level1-card');
            if (type === 'left') card.classList.add('level2-card-left');
            if (type === 'right') card.classList.add('level2-card-right');

            // 初始先給一個隨機符號
            card.innerText = getRandomBopomofo();
            
            return card;
        }

        // 生成與綁定事件主程式
        function generateCards(level) {
            const containerId = 'level' + level + '-cards';
            const container = document.getElementById(containerId);
            container.innerHTML = ''; // 清空
            
            if (level === 1) {
                // === 第一關：單張，點擊換字 ===
                const card = createSimpleCard('level1');
                
                // 綁定點擊事件：只更新自己
                card.onclick = function() {
                    updateCardVisual(card, getRandomBopomofo());
                };
                
                container.appendChild(card);

            } else if (level === 2) {
                // === 第二關：兩張，點擊任一張更新兩張 ===
                const card1 = createSimpleCard('left');
                const card2 = createSimpleCard('right');

                // 定義一個共用函式：更新兩張卡片
                const updateBoth = function() {
                    updateCardVisual(card1, getRandomBopomofo());
                    updateCardVisual(card2, getRandomBopomofo());
                };

                // 兩張卡片綁定同一個事件
                card1.onclick = updateBoth;
                card2.onclick = updateBoth;

                container.appendChild(card1);
                container.appendChild(card2);
            }
        }

        // 初始化
        document.addEventListener('DOMContentLoaded', () => {
            showView('home-view');
        });
    </script>
</body>
</html><!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>注音符號學習卡</title>
    <style>
        /* ==================================================== */
        /* 1. 全域樣式與版面設計 (保留原有的漂亮設計) */
        /* ==================================================== */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            width: 100%;
            max-width: 800px;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border-radius: 12px;
        }

        .view {
            display: none;
            padding: 20px 0;
        }

        .view.active {
            display: block;
        }

        h1, h2 {
            text-align: center;
            color: #333;
        }

        .btn-group {
            text-align: center;
            margin-top: 30px;
        }

        .btn {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            margin: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
            transition: background-color 0.3s;
        }

        .btn:hover {
            background-color: #0056b3;
        }

        .card-container {
            display: flex;
            justify-content: center; 
            gap: 40px; 
            margin-top: 40px;
            min-height: 200px;
        }
        
        /* ==================================================== */
        /* 2. 卡片樣式 (修改：移除3D翻轉，保留視覺風格) */
        /* ==================================================== */
        .card {
            width: 180px;
            height: 180px;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 5em; /* 字體放大 */
            font-weight: bold;
            color: white;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            user-select: none; /* 防止連點選取到文字 */
            transition: transform 0.1s ease; /* 點擊時的輕微縮放感 */
        }

        .card:active {
            transform: scale(0.95); /* 按下去縮小一點點 */
        }

        /* 第一關卡片顏色 (沿用原本背面漂亮的綠色) */
        .level1-card {
            background-color: #4CAF50; 
        }

        /* 第二關卡片顏色 (沿用原本漂亮的藍色與粉色) */
        .level2-card-left {
             background-color: #2196F3; 
        }
        .level2-card-right {
             background-color: #E91E63; 
        }

        /* 閃爍動畫 (從舊版移植過來) */
        .card.new-symbol {
            animation: symbol-flash 0.3s ease-in-out;
        }
        
        @keyframes symbol-flash {
            0% { transform: scale(1.0); opacity: 0.7; }
            50% { transform: scale(1.05); opacity: 1.0; }
            100% { transform: scale(1.0); }
        }

        /* RWD 手機適配 */
        @media (max-width: 600px) {
            .card {
                width: 140px;
                height: 140px;
                font-size: 4em;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <div id="home-view" class="view active">
            <h1>注音符號隨機生成器</h1>
            <div class="btn-group">
                <button class="btn" onclick="goToLevel(1)">進入 第一關 (一次一張)</button>
                <button class="btn" onclick="goToLevel(2)">進入 第二關 (一次兩張)</button>
            </div>
        </div>

        <div id="level1-view" class="view">
            <h2>第一關：點擊卡片，直接切換注音</h2>
            <div class="card-container" id="level1-cards">
                </div>
            <div class="btn-group">
                <button class="btn" onclick="showView('home-view')">返回首頁</button>
            </div>
        </div>

        <div id="level2-view" class="view">
            <h2>第二關：點擊任一卡片，同時切換兩張</h2>
            <div class="card-container" id="level2-cards">
                </div>
            <div class="btn-group">
                <button class="btn" onclick="showView('home-view')">返回首頁</button>
            </div>
        </div>
    </div>

    <script>
        // ====================================================
        // 3. JavaScript 邏輯 (融合版：舊玩法 + 新架構)
        // ====================================================
        
        const bopomofoSymbols = [
            'ㄅ', 'ㄆ', 'ㄇ', 'ㄈ', 'ㄉ', 'ㄊ', 'ㄋ', 'ㄌ', 'ㄍ', 'ㄎ', 'ㄏ', 
            'ㄐ', 'ㄑ', 'ㄒ', 'ㄓ', 'ㄔ', 'ㄕ', 'ㄖ', 'ㄗ', 'ㄘ', 'ㄙ', 
            '一', 'ㄨ', 'ㄩ' 
        ];

        // 隨機取得一個符號
        function getRandomBopomofo() {
            return bopomofoSymbols[Math.floor(Math.random() * bopomofoSymbols.length)];
        }

        // 切換視圖
        function showView(viewId) {
            document.querySelectorAll('.view').forEach(view => {
                view.classList.remove('active');
            });
            document.getElementById(viewId).classList.add('active');
        }

        // 進入關卡
        function goToLevel(level) {
            showView('level' + level + '-view');
            generateCards(level);
        }

        // 更新卡片內容與動畫 (舊版邏輯)
        function updateCardVisual(cardElement, newSymbol) {
            // 1. 移除動畫 class
            cardElement.classList.remove('new-symbol');
            
            // 2. 強制瀏覽器重繪 (Magic trick to restart animation)
            void cardElement.offsetWidth;
            
            // 3. 更新文字
            cardElement.innerText = newSymbol;
            
            // 4. 加回動畫
            cardElement.classList.add('new-symbol');
        }

        // 建立簡單版卡片 (無 3D 結構)
        // type 參數用來決定顏色樣式: 'level1', 'level2-left', 'level2-right'
        function createSimpleCard(type) {
            const card = document.createElement('div');
            card.classList.add('card');
            
            // 根據類型加上對應的顏色 class
            if (type === 'level1') card.classList.add('level1-card');
            if (type === 'left') card.classList.add('level2-card-left');
            if (type === 'right') card.classList.add('level2-card-right');

            // 初始先給一個隨機符號
            card.innerText = getRandomBopomofo();
            
            return card;
        }

        // 生成與綁定事件主程式
        function generateCards(level) {
            const containerId = 'level' + level + '-cards';
            const container = document.getElementById(containerId);
            container.innerHTML = ''; // 清空
            
            if (level === 1) {
                // === 第一關：單張，點擊換字 ===
                const card = createSimpleCard('level1');
                
                // 綁定點擊事件：只更新自己
                card.onclick = function() {
                    updateCardVisual(card, getRandomBopomofo());
                };
                
                container.appendChild(card);

            } else if (level === 2) {
                // === 第二關：兩張，點擊任一張更新兩張 ===
                const card1 = createSimpleCard('left');
                const card2 = createSimpleCard('right');

                // 定義一個共用函式：更新兩張卡片
                const updateBoth = function() {
                    updateCardVisual(card1, getRandomBopomofo());
                    updateCardVisual(card2, getRandomBopomofo());
                };

                // 兩張卡片綁定同一個事件
                card1.onclick = updateBoth;
                card2.onclick = updateBoth;

                container.appendChild(card1);
                container.appendChild(card2);
            }
        }

        // 初始化
        document.addEventListener('DOMContentLoaded', () => {
            showView('home-view');
        });
    </script>
</body>
</html>
